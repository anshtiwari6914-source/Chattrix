<!DOCTYPE html>
<html lang="en">
<div id="lockScreen">
<head>
<meta charset="UTF-8">
<title>Chattrix/login-page</title>
<link rel="stylesheet" href="/auth/auth.css">

</head>
<body>

    <!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-left">
        <div class="logo">C</div>
        <span class="brand">Chattrix</span>
    </div>

    <div class="nav-right">
        <a >Home</a>
        <a >About</a>
        <a >Safety</a>
        <a >Help</a>
    </div>
    
</nav>

    <!-- LOGIN SECTION -->
    <section class="login-container">
        
        <div class="login-header">
            <div class="login-logo">C</div>
            <h1>Chattrix</h1>
            <p>Secure Access Portal</p>
        </div>

        <div class="login-box">
            <h2 id="title">Login</h2>
            <input id="Email" type="email" placeholder="Enter Student Email" class="login-input">
            <input id="password" type="password" placeholder="Password" class="login-input">
            <button id="login-btn" class="login-btn">LOG IN</button>
            <p class ="switch" onclick="toggleMode()">Don't have an account? Create One</p>
            <p id="msg" style="color: red; text-align: center;"></p>
        </div>

        <footer class="login-footer">
            © 2023 Chattrix Inc. All rights reserved.  
            <a href="#">Privacy Policy</a> |
            <a href="#">Terms of Service</a>
        </footer>

    </section>

    <!-- Firebase SDK -->
    
    <script>
(function () {
  const TAB_KEY = "chattrix_active_tab";

  // if another tab already exists → block
  if (localStorage.getItem(TAB_KEY)) {
    document.documentElement.innerHTML = `
      <body style="
        background:black;
        color:white;
        display:flex;
        align-items:center;
        justify-content:center;
        height:100vh;
        font-family:sans-serif;
        text-align:center">
        This app is already open in another tab.
      </body>`;
    throw new Error("Multiple tabs blocked");
  }

  // mark this tab as active
  localStorage.setItem(TAB_KEY, Date.now());

  // remove lock when tab is closed
  window.addEventListener("beforeunload", () => {
    localStorage.removeItem(TAB_KEY);
  });
})();
</script>


<script>
(function () {
  const isTouch = navigator.maxTouchPoints > 0;
  const smallScreen = Math.min(screen.width, screen.height) < 900;
  const portrait = screen.height > screen.width;
  const noWebRTC = !navigator.mediaDevices;

  if ((isTouch && smallScreen) || portrait || noWebRTC) {

    // keep URL context intact
    document.body.innerHTML = `
      <div style="
        margin:0;
        background:black;
        color:white;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        font-family:Poppins, sans-serif;
        text-align:center;
        min-height:100vh;
        padding:20px;
      ">
        <img 
          src="./bg.png"
          alt="Desktop Only"
          style="
            max-width:90%;
            width:350px;
            height:auto;
            margin-bottom:20px;
            border-radius:20px;
            box-shadow:0 4px 60px rgba(255,255,255,0.1);
          "
        >
        <p style="font-size:1.2rem;opacity:0.8;">
          Stay tuned for the Android app!
        </p>
      </div>
    `;

    return; // stop execution safely
  }
})();
</script>





<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>

<script src="/auth/auth.js"></script>



</body>

</div>
</html>
